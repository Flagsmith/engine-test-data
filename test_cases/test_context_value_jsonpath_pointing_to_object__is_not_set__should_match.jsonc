{
  // Given: A segment with an IS_NOT_SET condition against an object (`$.identity`)
  // When: An evaluation context with an identity
  // Then: The context should be considered part of the segment because paths that lead to non-primitive values are treated as not set
  //
  // NOTE: This is a regression test for a bug where paths that lead to non-primitive values were evaluated against comparison operators
  //       (EQUAL, NOT_EQUAL, etc) instead of being treated as not set, causing undefined behavior.
  //       There's a potential use case for the `IS_SET`/`IS_NOT_SET` operators to check for the existence of an object, but it's not currently implemented.
  //       If such a use case arises, we can consider adding support for it. 
  //       For now, the engine implementations are expected to treat paths that lead to non-primitive values as not set.
  "$schema": "https://raw.githubusercontent.com/Flagsmith/engine-test-data/refs/tags/v2.0.0/schema.json",
  "context": {
    "environment": {
      "key": "key",
      "name": "Environment"
    },
    "identity": {
      "identifier": "object_user",
      "key": "key_object_user"
    },
    "segments": {
      "99": {
        "key": "99",
        "name": "segment_pointing_to_object",
        "rules": [
          {
            "type": "ALL",
            "conditions": [
              {
                "operator": "IS_NOT_SET",
                "property": "$.identity",
                "value": ""
              }
            ]
          }
        ]
      }
    }
  },
  "result": {
    "flags": {},
    "segments": [
      {
        "key": "99",
        "name": "segment_pointing_to_object"
      }
    ]
  }
}
